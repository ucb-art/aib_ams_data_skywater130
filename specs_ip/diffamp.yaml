lay_class: bag.layout.util.IPMarginTemplate
impl_lib: AAA_DIFFAMP
impl_cell: skywater_diffamp
root_dir: gen_outputs/ip_blocks/skywater_diffamp
model_supply_wrap_mode: TOP
model_type: VERILOG
layout_type: GDS
name_prefix: 'skywater_diffamp_'
name_suffix: ''
exact_cell_names: [skywater_diffamp]

lef_config:
  detail_layers: [3, 4, 5]

params:
  cls_name: xbase.layout.mos.top.GenericWrapper
  params:
    cls_name: bag3_analog.layout.amplifier.diffamp.DiffAmpSelfBiased
    params:
      seg_dict:
        tail_p: 24
        gm_p: 12
        gm_n: 2
        tail_n: 4
      draw_taps: BOTH

      pinfo:
        lch: 30
        top_layer: 4
        row_specs:
          - mos_type: nch
            width: 84
            threshold: standard
            bot_wires:
              data: [sup, sig_in]
              shared: [sup]
            top_wires: [sig_in]
            flip: True
          - mos_type: nch
            width: 84
            threshold: standard
            bot_wires:
              - [['sig<0:1>', 'DS_MATCH']]
            top_wires:
              data:
                - [['sig<0:1>', 'G']]
                - [['sig_in<0:1>', 'G_MATCH']]
            flip: True
          - mos_type: pch
            width: 110
            threshold: standard
            bot_wires:
              data:
                - [['sig<0:1>', 'G']]
                - [['sig_in<0:1>', 'G_MATCH']]
            top_wires:
              - [['sig<0:1>', 'DS_MATCH']]
          - mos_type: pch
            width: 110
            threshold: standard
            bot_wires: [sig_in]
            top_wires:
              data: [sig_in, sup]
              shared: [sup]
        tr_widths:
          sup: {2: 2}
        tr_spaces: {}

model_params:
  view_name: ''
  delay: 20
